type BookReference {
  id: ID!
  abbreviation: String! @search @id
  name: String! @search(by: [term, exact])
  number: Int! @search 
  chapterReferences: [ChapterReference!] @hasInverse(field: bookReference)
}


type ChapterReference {
  id: ID!
  number: Int! @search
  bookReference: BookReference!
  verseReferences: [VerseReference!] @hasInverse(field: chapterReference)
}

type VerseReference {
  id: ID!
  number: Int! @search
  chapterReference: ChapterReference!
}

type BibleVersion {
  id: ID!
  name: String! @search(by: [term, exact])
  language: ISOLanguage! 
  script: ISOScript!
  abbreviation: String @search
  rights: String @search(by: [term, exact])
  revisions: [BibleRevision] @hasInverse(field: bibleVersion)
}

type ISOLanguage {
  id: ID!
  iso639: String! @search(by: [exact]) @id
  name: String! @search(by: [term, exact])
  bibleVersions: [BibleVersion]
}

type ISOScript {
  id: ID!
  iso15924: String! @search(by: [exact]) @id
  name: String! @search(by: [term, exact])
  bibleVersions: [BibleVersion]
}

type BibleRevision {
  id: ID!
  date: DateTime! @search
  bibleVersion: BibleVersion!
  verseTexts: [VerseText!] @hasInverse(field: bibleRevision)
  assessments: [Assessment] @hasInverse(field: bibleRevision)
}

type VerseText {
  id: ID!
  text: String! @search(by: [term])
  verseReference: [VerseReference!]
  bibleRevision: BibleRevision!
  assessmentDetails: [AssessmentDetail]
}

enum AssessmentType {
  SemanticSimilarity
  QAComprehensibility
  SubwordsPerSentence
}

type Assessment {
  id: ID!
  type: AssessmentType! @search(by: [exact])
  bibleRevision: BibleRevision!
  reference: BibleRevision
  date: DateTime! @search
  details: [AssessmentDetail!] @hasInverse(field: assessment)
}

type AssessmentDetail {
  id: ID!
  assessment: Assessment!
  assessmentMetrics: [AssessmentMetric!] @hasInverse(field: assessmentDetail)
  verseTexts: [VerseText]
}

type AssessmentMetric {
  id: ID!
  assessmentDetail: AssessmentDetail!
  flag: Boolean @search
  number: Float @search
}
